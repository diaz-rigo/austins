<script
  src="https://kit.fontawesome.com/a076d05399.js"
  crossorigin="anonymous"
></script>
<!-- HTML -->
<!-- HTML -->
<!-- HTML -->
<!-- HTML -->
<p-sidebar [(visible)]="sidebarVisible" class="mobile-sidebar">
  <div
    pAnimateOnScroll
    enterClass="scalein"
    leaveClass="fadeout"
    class="sidebar-header animation-duration-1000 animation-ease-in-out"
  >
    <span class="pi pi-user"></span>
    <span class="user-name">{{ userName }}</span>
  </div>
  <hr class="sidebar-divider" />
  <div class="mobile-menu-item" (click)="redirectTo('home')">
    <span class="pi pi-home"></span> Home
  </div>
  <div class="mobile-menu-item" (click)="redirectTo('acercade')">
    <span class="pi pi-info-circle"></span> Acerca De
  </div>
  <div class="mobile-menu-item" (click)="redirectTo('perfil')" *ngIf="userName">
    <span class="pi pi-user"></span> Perfil
  </div>
  <div
    class="mobile-menu-item"
    (click)="redirectTo('miscompras')"
    *ngIf="userName"
  >
    <span class="pi pi-shopping-cart"></span> Mis Compras
  </div>
  <div
    class="mobile-menu-item"
    (click)="redirectTo('configuracion')"
    *ngIf="userName"
  >
    <span class="pi pi-cog"></span> Configuración
  </div>
  <div
    class="mobile-menu-item"
    (click)="redirectTo('notificaciones')"
    *ngIf="userName"
  >
    <span
      class="pi pi-bell text-3xl"
      pBadge
      value="2"
      severity="warning"
    ></span>
    Notificaciones
    <!-- <i class="pi pi-bell text-3xl" pBadge value="2"></i> -->
  </div>
  <div
    class="mobile-menu-item"
    (click)="redirectTo('historial')"
    *ngIf="userName"
  >
    <span class="pi pi-clock"></span> Historial
  </div>
  <div class="mobile-menu-item" (click)="redirectTo('ayuda')" *ngIf="userName">
    <span class="pi pi-question-circle"></span> Ayuda/Soporte
  </div>
  <div
    class="mobile-menu-item"
    (click)="redirectTo('favoritos')"
    *ngIf="userName"
  >
    <span class="pi pi-star"></span> Favoritos
  </div>
  <div
    class="mobile-menu-item"
    (click)="redirectTo('ajustes-cuenta')"
    *ngIf="userName"
  >
    <span class="pi pi-pencil"></span> Ajustes de Cuenta
  </div>
  <hr class="sidebar-divider" />
  <div *ngIf="!userName" class="mobile-menu-item" (click)="openSignInModal()">
    <span class="pi pi-sign-in"></span> Sign In
  </div>
  <div *ngIf="userName" class="mobile-menu-item" (click)="logout()">
    <span class="pi pi-sign-out"></span> Logout
  </div>
</p-sidebar>

<div *ngIf="shouldShowHeader">
  <div
    class="policy-header"
    [class.scroll-header]="isHeaderScrolled"
    [class.is-detail-route]="!isRUTA_DISTINTE_ahome()"
  >
    <link
      href="https://fonts.googleapis.com/css?family=Great+Vibes"
      rel="stylesheet"
    />
    <div class="logo-container">
      <img
        src="https://static.wixstatic.com/media/64de7c_29f387abde884a1e8f9df17220933df6~mv2.png/v1/fill/w_834,h_221,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/64de7c_29f387abde884a1e8f9df17220933df6~mv2.png"
        alt="Logo de Tu Empresa"
      />
    </div>
    <div class="button-container-mobile">
      <!-- <div class="card flex justify-content-center"> -->
      <div>
        <button class="mobile-menu-btn" (click)="sidebarVisible = true">
          <span class="pi pi-bars"></span>
        </button>
      </div>
    </div>

    <div class="search-container">
      <button class="btnbusa">
        <mat-icon class="material-icons primary">search</mat-icon>
      </button>
      <input
        [(ngModel)]="searchQuery"
        (ngModelChange)="onSearchChange($event)"
        placeholder="Buscar..."
      />
    </div>

    <div class="button-container-pc">
      <button class="menu-btn" (click)="redirectTo('home')">home</button>
      <button class="menu-btn" (click)="redirectTo('home')">acerca de</button>
      <button class="menu-btn" (click)="redirectTo('home')">sign in</button>
      <button [matMenuTriggerFor]="productsMenu" class="menu-btn">Lista</button>
      <mat-menu
        style="background-color: transparent"
        class="menuweb"
        #productsMenu="matMenu"
        yPosition="below"
      >
        <div mat-menu-item class="mobile-menu-item_b1">Productos</div>
        <div
          mat-menu-item
          class="mobile-menu-item_b1"
          (click)="redirectTo('acercade')"
        >
          promosiones
        </div>
        <div
          mat-menu-item
          class="mobile-menu-item_b1"
          (click)="redirectTo('home')"
        >
          acerca de
        </div>
      </mat-menu>
      <!-- <button *ngIf="!userName" class="menu-btn" (click)="openSignInModal()">
        <mat-icon class="material-icons2 primary">account_circle</mat-icon>
      </button> -->
      <!-- 
      <button *ngIf="!userName" class="menu-btn" (click)="showDialog()">
        <mat-icon class="material-icons2 primary">account_circle</mat-icon>
      </button> -->
      <button *ngIf="!userName" class="menu-btn" (click)="openSignInModal()">
        <mat-icon class="material-icons2 primary">account_circle</mat-icon>
      </button>
<!-- 
      <div class="card flex justify-content-center">
        <p-dialog
          header="Header"
          [(visible)]="visible"
          [style]="{ width: '50vw' }"
        >

        </p-dialog>
      </div> -->

      <!-- <span *ngIf="userName" class="menu-btn">{{ userName }}</span> -->
      <button
        *ngIf="userName"
        [matMenuTriggerFor]="userOption"
        class="menu-btn"
      >
        <span class="pi pi-user"></span>

        {{ userName }}
      </button>
      <mat-menu
        style="background-color: transparent"
        class="menuweb"
        #userOption="matMenu"
        yPosition="below"
      >
        <div mat-menu-item class="mobile-menu-item_b1">perfil</div>
        <div mat-menu-item class="mobile-menu-item_b1">
          <span class="pi pi-shopping-bag"></span> mis compras
        </div>
        <div mat-menu-item class="mobile-menu-item_b1" (click)="logout()">
          <span><span class="pi pi-sign-out"></span> Cerrar sesión</span>
        </div>
      </mat-menu>
    </div>

    <mat-icon
      [matBadge]="badge"
      matBadgeColor="warn"
      class="material-icons primary"
      (click)="goToCart()"
      >shopping_cart</mat-icon
    >
  </div>

  <div
    class="filter-section"
    [class.is-detail-route]="!isRUTA_DISTINTE_ahome()"
  >
    <label for="categoryFilter">Categoría:</label>
    <button>
      filtrar
      <mat-icon>filter_alt</mat-icon>
    </button>

    <label for="sortOrder">Ordenar por:</label>
    <select id="sortOrder">
      <option value="nuevo">Nuevo</option>
      <option value="popular">Popular</option>
    </select>
  </div>

  <!-- Nueva sección de filtrado -->
</div>
